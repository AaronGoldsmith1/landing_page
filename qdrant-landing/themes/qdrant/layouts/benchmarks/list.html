{{ define "main" }}

{{ range $i,$p := where .Data.Pages "Section" "benchmarks" }}

<section class="auto-container mt-md-5">
    <div class="row clearfix pt-4 pt-md-0 mb-4 mb-md-5">
        <div class="col">
            <h1>{{ $p.Title }}</h1>
            <p>{{ $p.Description }}</p>
            <canvas id="myChart-{{ $p.Params.id }}"></canvas>
        </div>
    </div>
</section>

<script type="module" src="{{ $p.Params.data }}"></script>

<script type="module">
  import data from "{{ $p.Params.data }}";
  console.log(data)

  const config = {
    type: 'line',
    data: data,
    options: {}
  };

  const myChart = new Chart(
    document.getElementById('myChart-{{ $p.Params.id }}'),
    config
  );
</script>

{{ end }}
{{ end }}